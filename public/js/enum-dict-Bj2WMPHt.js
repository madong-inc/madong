var K=Object.defineProperty;var w=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var S=(a,t,e)=>t in a?K(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,R=(a,t)=>{for(var e in t||(t={}))N.call(t,e)&&S(a,e,t[e]);if(w)for(var e of w(t))P.call(t,e)&&S(a,e,t[e]);return a};var V=(a,t,e)=>new Promise((c,f)=>{var g=o=>{try{d(e.next(o))}catch(p){f(p)}},v=o=>{try{d(e.throw(o))}catch(p){f(p)}},d=o=>o.done?c(o.value):Promise.resolve(o.value).then(g,v);d((e=e.apply(a,t)).next())});import"./form-CnpKYFzH.js";import"./vxe-table-DN_3U_z_.js";import{e as B,c as E}from"./dict-DHmWue44.js";import{h as F,b,r as L,V as y,n as m,z as _,k as s,u as l,M as z,a7 as j,j as D,Z as h,_ as x}from"../jse/index-index-BUCZBWdu.js";import{u as A}from"./use-vxe-grid-CxZE6Hzc.js";import{u as G}from"./use-modal-BGLiGhJB.js";import{R as M,C}from"./index-DDaHV-6q.js";import{aK as q}from"./bootstrap-DBsnWor2.js";import"./component-map-Dg1YW3q5.js";import"./loading-BKAGElNW.js";import"./x-BAo__qRZ.js";const I=F({__name:"enum-dict",setup(a,{expose:t}){const e=b("enum"),c=b([]),f=n=>{const{pageNum:i,pageSize:u}=n;return Promise.resolve({recordCount:c.value.length,totalPage:Math.ceil(c.value.length/u),rows:c.value.slice((i-1)*u,i*u)})},g=L({toolbarConfig:{enabled:!1},columns:[{type:"expand",width:80,slots:{content:"expandedRowRender"}},{field:"name",title:"字典名称",align:"left"},{field:"dict_Key",title:"字典值"}],data:[],height:"500",keepSource:!0,pagerConfig:{pageSize:10},proxyConfig:{ajax:{query:(u,r)=>V(this,[u,r],function*({page:n},i){return yield f(R({pageNum:n.currentPage,pageSize:n.pageSize},i))})}}}),v={},[d,o]=A({gridOptions:g,gridEvents:v}),[p,k]=G({footer:!1,onOpenChange(n){var i;e.value=n?(i=k.getData())==null?void 0:i.type:"enum",n&&(e.value==="enum"?B:E)({}).then(r=>{c.value=r,o.reload()})}});return t(k),(n,i)=>(m(),y("div",null,[_(l(p),{title:e.value==="enum"?"枚举字典":"自定义字典",class:"w-[60%]"},{default:s(()=>[_(l(d),null,{expandedRowRender:s(({row:u})=>[(m(!0),y(z,null,j(u.items,r=>(m(),y(z,{key:r.dict_item_Key},[r.dict_item_value===r.dict_item_value?(m(),D(l(M),{key:0,class:"m-dict-item"},{default:s(()=>[_(l(C),{span:12},{default:s(()=>[h(x(r.dict_item_value),1)]),_:2},1024)]),_:2},1024)):(m(),D(l(M),{key:1,class:"m-dict-item"},{default:s(()=>[_(l(C),{span:8},{default:s(()=>[h(x(r.dict_item_Key),1)]),_:2},1024),_(l(C),{span:8},{default:s(()=>[h(x(r.dict_item_value),1)]),_:2},1024)]),_:2},1024))],64))),128))]),_:1})]),_:1},8,["title"])]))}}),te=q(I,[["__scopeId","data-v-c3212806"]]);export{te as default};
