import{bN as o,h as b,b as u,V as d,n as i,z as f,k as C,a6 as g,M as I,a7 as w,u as _}from"../jse/index-index-BUCZBWdu.js";import{_ as v}from"./description.vue_vue_type_script_setup_true_lang-CrOvFWHr.js";import{a_ as N,aK as y}from"./bootstrap-DBsnWor2.js";import{u as S}from"./use-modal-BGLiGhJB.js";const r="/system/recycle-bin",M=e=>o.get(r,{params:e}),P=e=>o.get(`${r}/${e}`),V=(e,l)=>o.put(`${r}/${e}`,l),z=(e,l)=>o.delete(`${r}/${e}`,{data:l}),B={toolbarConfig:{refresh:!0,print:!1,export:!1,zoom:!0},columnConfig:{resizable:!0},columns:[{type:"checkbox",width:60},{field:"table_name",title:"数据表",align:"center"},{field:"data",title:"数据"},{field:"ip",title:"IP"},{field:"enabled",title:"是否还原",width:90,cellRender:{name:"ApiDict",props:{code:"yes_no"}}},{width:200,title:"操作",align:"center",slots:{default:"ACTION"},fixed:"right"}]},E={schema:[{component:"Input",fieldName:"LIKE_table_name",label:"数据表名称",componentProps:{placeholder:"请输入表名称",allowClear:!0}},{component:"ApiDict",fieldName:"EQ_enabled",label:"是否还原",componentProps:{placeholder:"请选择",allowClear:!0,code:"yes_no",renderType:"Select"}}]},x={schema:[{fieldName:"id",label:"ID",component:"Input",ifDetail:!1,dependencies:{show:!1,triggerFields:["id"]}},{fieldName:"table_name",label:"数据表名称",component:"Input",componentProps:{placeholder:"",allowClear:!0},formItemClass:"col-span-12",rules:"required",detailSpan:12},{fieldName:"operate_name",label:"操作人员",component:"Input",componentProps:{placeholder:"",allowClear:!0},formItemClass:"col-span-12",rules:"required",detailSpan:12},{fieldName:"ip",label:"IP",component:"Input",componentProps:{placeholder:"",allowClear:!0},formItemClass:"col-span-12",rules:"required",detailSpan:12},{fieldName:"create_time",label:"删除时间",component:"Input",componentProps:{placeholder:"",allowClear:!0},formItemClass:"col-span-12",rules:"required",detailSpan:12},{fieldName:"enabled",label:"是否还原",component:"ApiDict",defaultValue:1,componentProps:{placeholder:"",code:"yes_no",isBtn:!0,renderType:"RadioGroup"},formItemClass:"col-span-12",detailSpan:12,rules:"selectRequired"},{fieldName:"data",label:"数据表名称",component:"Textarea",componentProps:{placeholder:"",allowClear:!0},formItemClass:"col-span-12",rules:"required",detailSpan:12}]},D={class:"desc-wrap"},q=b({__name:"detail",setup(e,{expose:l}){const t=u(),n=u([]),[h,p]=S({draggable:!0,footer:!1,onOpenChange(s){var c,a;t.value=s?(c=p.getData())==null?void 0:c.record:{},s&&P((a=t.value)==null?void 0:a.id).then(m=>{t.value=m,n.value=N(x,m)})}});return l(p),(s,c)=>(i(),d("div",null,[f(_(h),{class:"w-[50%]",title:"数据详情"},{default:C(()=>[g("div",D,[(i(!0),d(I,null,w(n.value,a=>(i(),d("div",{key:a.field,class:"desc-card"},[f(_(v),{data:t.value,schema:a.children,title:n.value.length===1?void 0:a.label},null,8,["data","schema","title"])]))),128))])]),_:1})]))}}),$=y(q,[["__scopeId","data-v-ae8864e3"]]),O=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"}));export{$ as D,O as a,z as d,B as g,M as l,V as r,E as s};
