var v=Object.defineProperty,w=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var h=(r,t,o)=>t in r?v(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,c=(r,t)=>{for(var o in t||(t={}))A.call(t,o)&&h(r,o,t[o]);if(_)for(var o of _(t))B.call(t,o)&&h(r,o,t[o]);return r},d=(r,t)=>w(r,D(t));var x=(r,t,o)=>new Promise((f,u)=>{var g=a=>{try{n(o.next(a))}catch(e){u(e)}},b=a=>{try{n(o.throw(a))}catch(e){u(e)}},n=a=>a.done?f(a.value):Promise.resolve(a.value).then(g,b);n((o=o.apply(r,t)).next())});import"./form-CnpKYFzH.js";import"./vxe-table-DN_3U_z_.js";import{o as F}from"./logs-Ch_KaHSP.js";import{B as R,au as S}from"./bootstrap-DBsnWor2.js";import{_ as k}from"./table-action.vue_vue_type_script_setup_true_lang-Bo6k7XMX.js";import{g as C,D as T,s as V}from"./detail-BpV3MdK5.js";import{_ as z}from"./page.vue_vue_type_script_setup_true_lang-9XYPEXDE.js";import{h as N,b as p,j as O,n as $,k as i,z as l,u as m,Z as j}from"../jse/index-index-BUCZBWdu.js";import{u as G}from"./use-vxe-grid-CxZE6Hzc.js";import"./component-map-Dg1YW3q5.js";import"./index-1NUgD4WV.js";import"./Dropdown-G0jIiXp0.js";import"./description.vue_vue_type_script_setup_true_lang-CrOvFWHr.js";import"./index-BWzmO9nj.js";import"./use-modal-BGLiGhJB.js";import"./x-BAo__qRZ.js";import"./loading-BKAGElNW.js";const ro=N({__name:"index",setup(r){const t=p(!1);p();const o=p();p(),p();const f=d(c({},V),{collapsed:!0}),u=d(c({},C),{toolbarConfig:d(c({},C.toolbarConfig),{slots:{buttons:"toolbar-buttons"},custom:{icon:"vxe-icon-menu"}}),height:"auto",keepSource:!0,pagerConfig:{},proxyConfig:{ajax:{query:(y,so)=>x(this,[y,so],function*({page:e},s){return yield F(c({page:e.currentPage,limit:e.pageSize},s))})}}}),g={checkboxChange(){const e=n.grid.getCheckboxRecords();t.value=e.length>0},checkboxAll(){const e=n.grid.getCheckboxRecords();t.value=e.length>0}},[b,n]=G({formOptions:f,gridOptions:u,gridEvents:g}),a=e=>{o.value.setData({record:e}),o.value.open()};return(e,s)=>($(),O(m(z),{"auto-content-height":""},{default:i(()=>[l(m(b),null,{"toolbar-buttons":i(()=>[l(m(k),{actions:[],"drop-down-actions":[]},{more:i(()=>[l(m(R),{style:{"margin-left":"8px"}},{default:i(()=>[s[0]||(s[0]=j(" 批量操作 ")),l(m(S),{icon:"ant-design:down-outlined"})]),_:1})]),_:1})]),"toolbar-tools":i(()=>s[1]||(s[1]=[])),ACTION:i(({row:y})=>[l(m(k),{actions:[{label:"详情",type:"link",size:"small",auth:["admin","system:logs:operate:detail"],onClick:a.bind(null,y)}],"drop-down-actions":[]},null,8,["actions"])]),_:1}),l(T,{ref_key:"detailFormRef",ref:o},null,512)]),_:1}))}});export{ro as default};
