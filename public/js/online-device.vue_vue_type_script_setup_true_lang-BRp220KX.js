var b=Object.defineProperty;var c=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var d=(o,t,e)=>t in o?b(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,f=(o,t)=>{for(var e in t||(t={}))k.call(t,e)&&d(o,e,t[e]);if(c)for(var e of c(t))x.call(t,e)&&d(o,e,t[e]);return o};var p=(o,t,e)=>new Promise((l,a)=>{var s=i=>{try{r(e.next(i))}catch(u){a(u)}},n=i=>{try{r(e.throw(i))}catch(u){a(u)}},r=i=>i.done?l(i.value):Promise.resolve(i.value).then(s,n);r((e=e.apply(o,t)).next())});import"./vxe-table-DN_3U_z_.js";import{k as h,o as C}from"./user-Cu6cmzRD.js";import{_ as V}from"./table-action.vue_vue_type_script_setup_true_lang-Bo6k7XMX.js";import{h as y,V as v,n as w,z as m,k as g,u as _,Z as z}from"../jse/index-index-BUCZBWdu.js";import{u as N}from"./use-vxe-grid-CxZE6Hzc.js";const D=y({__name:"online-device",setup(o){const t={toolbarConfig:{refresh:!0,print:!1,export:!1,custom:!0,zoom:!0,slots:{buttons:"toolbar-buttons"}},columns:[{field:"user_name",title:"登录账号"},{field:"os",title:"登录设备"},{field:"browser",title:"浏览器"},{field:"ip",title:"登录IP"},{field:"create_time",title:"登录时间"},{width:110,title:"操作",align:"center",slots:{default:"ACTION"},fixed:"right"}],data:[],height:"450",keepSource:!0,pagerConfig:{pageSize:5},proxyConfig:{ajax:{query:(i,u)=>p(this,[i,u],function*({page:n},r){return yield C(f({page:n.currentPage,limit:n.pageSize},r))})}}},e={},[l,a]=N({gridOptions:t,gridEvents:e}),s=n=>{h({data:[n.key]}).then(()=>{a.reload()})};return(n,r)=>(w(),v("div",null,[m(_(l),null,{"toolbar-buttons":g(()=>r[0]||(r[0]=[z(" 我的在线设备 ")])),ACTION:g(({row:i})=>[m(_(V),{actions:[{label:"强制下线",popConfirm:{title:"确定踢下线吗？",confirm:s.bind(null,i)}}]},null,8,["actions"])]),_:1})]))}});export{D as _};
