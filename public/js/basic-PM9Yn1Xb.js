var W=Object.defineProperty;var B=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var L=(o,a,e)=>a in o?W(o,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[a]=e,w=(o,a)=>{for(var e in a||(a={}))O.call(a,e)&&L(o,e,a[e]);if(B)for(var e of B(a))V.call(a,e)&&L(o,e,a[e]);return o};var g=(o,a,e)=>new Promise((l,s)=>{var c=n=>{try{t(e.next(n))}catch(f){s(f)}},p=n=>{try{t(e.throw(n))}catch(f){s(f)}},t=n=>n.done?l(n.value):Promise.resolve(n.value).then(c,p);t((e=e.apply(o,a)).next())});import{b as M,L as q,X as U,bQ as P,W as j,cy as D,h as N,bT as G,bU as Z,w as R,c as _,V as H,n as $,z as m,k as v,u as r,l as Q,bP as F,cE as J,bO as X,cr as K,c9 as I,d4 as k,cz as Y,a as S,j as ee}from"../jse/index-index-BUCZBWdu.js";import{d as ae,bm as te,bn as A,bo as oe,b as se}from"./bootstrap-DBsnWor2.js";import{_ as ne,N as re,a as le,b as ie}from"./layout.vue_vue_type_script_setup_true_lang-DRvOYoJc.js";import{u as ce}from"./use-modal-BGLiGhJB.js";import{_ as ue}from"./avatar.vue_vue_type_script_setup_true_lang-CIkUVRJE.js";import"./theme-toggle.vue_vue_type_script_setup_true_lang-BO3z2_xo.js";import"./use-drawer-JrzCmswA.js";import"./x-BAo__qRZ.js";import"./loading-BKAGElNW.js";import"./TabsList.vue_vue_type_script_setup_true_lang-D40EpReA.js";import"./rotate-cw-s8n-jfGs.js";import"./use-tabs-3uQ27r_x.js";const d=M(),C=M(!1),b=M({advancedStyle:{colorStops:[{color:"gray",offset:0},{color:"gray",offset:1}],type:"linear"},content:"",contentType:"multi-line-text",globalAlpha:.25,gridLayoutOptions:{cols:2,gap:[20,20],matrix:[[1,0],[0,1]],rows:2},height:200,layout:"grid",rotate:30,width:160});function de(){function o(l){return g(this,null,function*(){var c;const{Watermark:s}=yield D(()=>g(this,null,function*(){const{Watermark:p}=yield import("./index.esm-ChtR6blK.js");return{Watermark:p}}),[]);b.value=w(w({},b.value),l),d.value=new s(b.value),P({app:{watermark:!0}}),yield(c=d.value)==null?void 0:c.create()})}function a(l){return g(this,null,function*(){var s;d.value?(yield j(),yield(s=d.value)==null?void 0:s.changeOptions(w(w({},b.value),l))):yield o(l)})}function e(){d.value&&(d.value.destroy(),d.value=void 0),P({app:{watermark:!1}})}return C.value||(C.value=!0,q(()=>{e()})),{destroyWatermark:e,updateWatermark:a,watermark:U(d)}}const T=ae("BookOpenTextIcon",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]),me=N({name:"LoginExpiredModal",__name:"login-expired-modal",props:G({avatar:{default:""},zIndex:{default:0},codeLoginPath:{},forgetPasswordPath:{},loading:{type:Boolean},qrCodeLoginPath:{},registerPath:{},showCodeLogin:{type:Boolean},showForgetPassword:{type:Boolean},showQrcodeLogin:{type:Boolean},showRegister:{type:Boolean},showRememberMe:{type:Boolean},showThirdPartyLogin:{type:Boolean},subTitle:{},title:{},submitButtonText:{}},{open:{type:Boolean},openModifiers:{}}),emits:["update:open"],setup(o){const a=o,e=Z(o,"open"),[l,s]=ce();R(()=>e.value,t=>{s.setState({isOpen:t})});const c=_(()=>a.zIndex||p());function p(){let t=0;return[...document.querySelectorAll("*")].forEach(f=>{const h=window.getComputedStyle(f).getPropertyValue("z-index");h&&!Number.isNaN(Number.parseInt(h))&&(t=Math.max(t,Number.parseInt(h)))}),t+1}return(t,n)=>($(),H("div",null,[m(r(l),{closable:!1,"close-on-click-modal":!1,"close-on-press-escape":!1,footer:!1,"fullscreen-button":!1,header:!1,"z-index":c.value,class:"border-none px-10 py-6 text-center shadow-xl sm:w-[600px] sm:rounded-2xl md:h-[unset]"},{default:v(()=>[m(r(ue),{src:t.avatar,class:"mx-auto mb-6 size-20"},null,8,["src"]),m(r(te),{"show-forget-password":!1,"show-register":!1,"show-remember-me":!1,"sub-title":t.$t("authentication.loginAgainSubTitle"),title:t.$t("authentication.loginAgainTitle")},{default:v(()=>[Q(t.$slots,"default")]),_:3},8,["sub-title","title"])]),_:3},8,["z-index"])]))}}),Le=N({__name:"basic",setup(o){const a=M([{avatar:"https://avatar.vercel.sh/vercel.svg?text=VB",date:"3小时前",isRead:!0,message:"描述信息描述信息描述信息",title:"收到了 14 份新周报"},{avatar:"https://avatar.vercel.sh/1",date:"刚刚",isRead:!1,message:"描述信息描述信息描述信息",title:"朱偏右 回复了你"},{avatar:"https://avatar.vercel.sh/1",date:"2024-01-01",isRead:!1,message:"描述信息描述信息描述信息",title:"曲丽丽 评论了你"},{avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"代办提醒"}]),e=F(),l=J(),s=X(),{destroyWatermark:c,updateWatermark:p}=de(),t=_(()=>a.value.some(i=>!i.isRead)),n=K(),f=_(()=>[{handler:()=>{k(Y,{target:"_blank"})},icon:T,text:I("ui.widgets.document")},{handler:()=>{n.push({name:"system:personal"})},icon:T,text:"个人中心"},{handler:()=>{k("https://gitee.com/motion-code",{target:"_blank"})},icon:A,text:"Gitee"},{handler:()=>{k("https://gitCode.com/motion-code",{target:"_blank"})},icon:A,text:"GitCode"},{handler:()=>{k("https://pd.qq.com/s/3edfwx2lm",{target:"_blank"})},icon:oe,text:I("ui.widgets.qa")}]),y=_(()=>{var i,u;return(u=(i=e.userInfo)==null?void 0:i.avatar)!=null?u:S.app.defaultAvatar});function h(){return g(this,null,function*(){yield l.logout(!1)})}function z(){a.value=[]}function E(){a.value.forEach(i=>i.isRead=!0)}return R(()=>S.app.watermark,i=>g(this,null,function*(){var u;i?yield p({content:`${(u=e.userInfo)==null?void 0:u.username}`}):c()}),{immediate:!0}),(i,u)=>($(),ee(r(ie),{onClearPreferencesAndLogout:h},{"user-dropdown":v(()=>{var x;return[m(r(le),{avatar:y.value,menus:f.value,text:(x=r(e).userInfo)==null?void 0:x.realName,description:"ann.vben@gmail.com","tag-text":"Pro",onLogout:h},null,8,["avatar","menus","text"])]}),notification:v(()=>[m(r(re),{dot:t.value,notifications:a.value,onClear:z,onMakeAll:E},null,8,["dot","notifications"])]),extra:v(()=>[m(r(me),{open:r(s).loginExpired,"onUpdate:open":u[0]||(u[0]=x=>r(s).loginExpired=x),avatar:y.value},{default:v(()=>[m(se)]),_:1},8,["open","avatar"])]),"lock-screen":v(()=>[m(r(ne),{avatar:y.value,onToLogin:h},null,8,["avatar"])]),_:1}))}});export{Le as default};
