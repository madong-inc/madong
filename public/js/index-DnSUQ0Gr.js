var B=Object.defineProperty,E=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var v=(i,e,t)=>e in i?B(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,h=(i,e)=>{for(var t in e||(e={}))O.call(e,t)&&v(i,t,e[t]);if(D)for(var t of D(e))T.call(e,t)&&v(i,t,e[t]);return i},y=(i,e)=>E(i,I(e));var x=(i,e,t)=>new Promise((u,l)=>{var p=a=>{try{f(t.next(a))}catch(b){l(b)}},k=a=>{try{f(t.throw(a))}catch(b){l(b)}},f=a=>a.done?u(a.value):Promise.resolve(a.value).then(p,k);f((t=t.apply(i,e)).next())});import"./form-CnpKYFzH.js";import"./vxe-table-DN_3U_z_.js";import{d as V,l as N}from"./dict-DHmWue44.js";import{_ as R}from"./table-action.vue_vue_type_script_setup_true_lang-Bo6k7XMX.js";import $ from"./detail-COeo1D_S.js";import{_ as j}from"./dict-item-wrap.vue_vue_type_script_setup_true_lang-PbVNVMh2.js";import G from"./enum-dict-Bj2WMPHt.js";import L from"./form-CI9FURpJ.js";import{g as F,s as U}from"./index-9S9tzr0-.js";import{B as W,a3 as q}from"./bootstrap-DBsnWor2.js";import{_ as K}from"./page.vue_vue_type_script_setup_true_lang-9XYPEXDE.js";import{h as P,b as g,j as Z,n as H,k as d,z as s,u as c,Z as J,cK as M}from"../jse/index-index-BUCZBWdu.js";import{u as Q}from"./use-vxe-grid-CxZE6Hzc.js";import"./component-map-Dg1YW3q5.js";import"./index-1NUgD4WV.js";import"./Dropdown-G0jIiXp0.js";import"./description.vue_vue_type_script_setup_true_lang-CrOvFWHr.js";import"./index-BWzmO9nj.js";import"./use-modal-BGLiGhJB.js";import"./x-BAo__qRZ.js";import"./loading-BKAGElNW.js";import"./index.vue_vue_type_script_setup_true_lang-BvIU7VfA.js";import"./index-BDWHuWtt.js";import"./detail-CepzxrOz.js";import"./form-BslTGa0r.js";import"./use-drawer-JrzCmswA.js";import"./index-DDaHV-6q.js";const Ft=P({__name:"index",setup(i){const e=g(!1),t=g(),u=g(),l=g(),p=g(),k=y(h({},U),{collapsed:!0}),f=y(h({},F),{toolbarConfig:y(h({},F.toolbarConfig),{slots:{buttons:"toolbar-buttons"},custom:{icon:"vxe-icon-menu"}}),height:"auto",keepSource:!0,pagerConfig:{},proxyConfig:{ajax:{query:(m,At)=>x(this,[m,At],function*({page:o},n){return yield N(h({page:o.currentPage,limit:o.pageSize},n))})}}}),a={checkboxChange(){const o=r.grid.getCheckboxRecords();e.value=o.length>0},checkboxAll(){const o=r.grid.getCheckboxRecords();e.value=o.length>0}},[b,r]=Q({formOptions:k,gridOptions:f,gridEvents:a}),w=()=>{t.value.setData({isUpdate:!1,gridApi:r}),t.value.open()},z=o=>{t.value.setData({record:o,isUpdate:!0,gridApi:r}),t.value.open()},A=o=>{l.value.setData({record:o}),l.value.open()},S=o=>{u.value.setData({record:o}),u.value.open()},_=o=>{p.value.setData({type:o}),p.value.open()},C=o=>{let n=[];o?n.push(o.id):n=r.grid.getCheckboxRecords().map(m=>m.id),V(0,{data:n}).then(()=>{M.success("删除成功"),r.reload()})};return(o,n)=>(H(),Z(c(K),{"auto-content-height":""},{default:d(()=>[s(c(b),null,{"toolbar-buttons":d(()=>[s(c(R),{actions:[{label:"新增",type:"primary",icon:"ant-design:plus-outlined",auth:["admin","system:dict:save"],onClick:w.bind(null)},{label:"枚举字典",type:"primary",icon:"ant-design:unordered-list-outlined",auth:["admin","system:dict:enumDictList"],onClick:_.bind(null,"enum")},{label:"自定义字典",type:"primary",icon:"ant-design:unordered-list-outlined",auth:["admin","system:dict:customDictList"],onClick:_.bind(null,"custom")}],"drop-down-actions":[{label:"删除",icon:"ant-design:delete-outlined",ifShow:e.value,auth:["admin","system:dict:remove"],popConfirm:{title:"确定删除吗？",confirm:C.bind(null,!1)}}]},{more:d(()=>[s(c(W),{style:{"margin-left":"8px"}},{default:d(()=>[n[0]||(n[0]=J(" 批量操作 ")),s(c(q))]),_:1})]),_:1},8,["actions","drop-down-actions"])]),"toolbar-tools":d(()=>n[1]||(n[1]=[])),ACTION:d(({row:m})=>[s(c(R),{actions:[{label:"详情",type:"link",size:"small",auth:["admin","system:dict:detail"],onClick:A.bind(null,m)},{label:"字典项",type:"link",size:"small",auth:["admin","system:dict-item:list"],onClick:S.bind(null,m)}],"drop-down-actions":[{label:"编辑",type:"link",size:"small",icon:"ant-design:edit-outlined",auth:["admin","system:dict:update"],onClick:z.bind(null,m)},{label:"删除",icon:"ant-design:delete-outlined",auth:["admin","system:dict:remove"],popConfirm:{title:"确定删除吗？",confirm:C.bind(null,m)}}]},null,8,["actions","drop-down-actions"])]),_:1}),s(L,{ref_key:"dictFormRef",ref:t},null,512),s($,{ref_key:"detailFormRef",ref:l},null,512),s(j,{ref_key:"dictItemWrapRef",ref:u},null,512),s(G,{ref_key:"enumDictRef",ref:p},null,512)]),_:1}))}});export{Ft as default};
